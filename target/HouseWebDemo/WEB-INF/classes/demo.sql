DROP TABLE IF EXISTS broker;

CREATE TABLE broker(
	id BIGINT PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT '',
	name VARCHAR(20) NOT NULL DEFAULT '' COMMENT '',
	phone VARCHAR(20) NOT NULL DEFAULT '' COMMENT '',
	username VARCHAR(20) NOT NULL DEFAULT '' COMMENT '',
	password VARCHAR(20) NOT NULL DEFAULT '' COMMENT '',
	UNIQUE KEY idx_username (username)
)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT '';

DROP TABLE IF EXISTS house;

CREATE TABLE house(
	id BIGINT PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT '',
	bedroom INT NOT NULL DEFAULT 0 COMMENT '',
	livroom INT NOT NULL DEFAULT 0 COMMENT '',
	community VARCHAR(50) NOT NULL DEFAULT '' COMMENT '',
	address VARCHAR(50) NOT NULL DEFAULT '' COMMENT '',
	INDEX idx_bedroom (bedroom),
	INDEX idx_livroom (livroom)
)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT '';

DROP TABLE IF EXISTS house_desc;

CREATE TABLE house_desc(
	id BIGINT PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT '',
	description VARCHAR(500) NOT NULL DEFAULT '' COMMENT ''
)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT '';

DROP TABLE IF EXISTS house_info;

CREATE TABLE house_info(
	id BIGINT PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT '',
	title VARCHAR(50) NOT NULL DEFAULT '' COMMENT '',
	area INT NOT NULL DEFAULT 0 COMMENT '',
	price INT NOT NULL DEFAULT 0 COMMENT '',
	floor INT NOT NULL DEFAULT 0 COMMENT '',
	tfloor INT NOT NULL DEFAULT 0 COMMENT '',
	desc_id INT NOT NULL DEFAULT 0 COMMENT '',
	broker_id INT NOT NULL DEFAULT 0 COMMENT '',
	house_id INT NOT NULL DEFAULT 0 COMMENT '',
	pub_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '',
	INDEX idx_area(area),
	INDEX idx_price(price),
	INDEX idx_pub_time(pub_time)
)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT '';
